{
  "content": "aW1wb3J0IFN3aWZ0VUkKCnN0cnVjdCBDS0J1dHRvbjogVmlldyB7CiAgICBsZXQgdGl0bGU6IFN0cmluZwogICAgbGV0IGljb246IFN0cmluZz8KICAgIGxldCBzdHlsZTogQnV0dG9uU3R5bGUKICAgIGxldCBhY3Rpb246ICgpIC0+IFZvaWQKICAgIAogICAgZW51bSBCdXR0b25TdHlsZSB7CiAgICAgICAgY2FzZSBwcmltYXJ5CiAgICAgICAgY2FzZSBzZWNvbmRhcnkKICAgICAgICBjYXNlIGdob3N0CiAgICAgICAgCiAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvcjogQ29sb3IgewogICAgICAgICAgICBzd2l0Y2ggc2VsZiB7CiAgICAgICAgICAgIGNhc2UgLnByaW1hcnk6CiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IoIkFjY2VudENvbG9yIikKICAgICAgICAgICAgY2FzZSAuc2Vjb25kYXJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmdyYXkub3BhY2l0eSgwLjEpCiAgICAgICAgICAgIGNhc2UgLmdob3N0OgogICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmNsZWFyCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdmFyIGZvcmVncm91bmRDb2xvcjogQ29sb3IgewogICAgICAgICAgICBzd2l0Y2ggc2VsZiB7CiAgICAgICAgICAgIGNhc2UgLnByaW1hcnk6CiAgICAgICAgICAgICAgICByZXR1cm4gLndoaXRlCiAgICAgICAgICAgIGNhc2UgLnNlY29uZGFyeSwgLmdob3N0OgogICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yKCJBY2NlbnRDb2xvciIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdmFyIGJvcmRlckNvbG9yOiBDb2xvciB7CiAgICAgICAgICAgIHN3aXRjaCBzZWxmIHsKICAgICAgICAgICAgY2FzZSAuZ2hvc3Q6CiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IoIkFjY2VudENvbG9yIikKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiAuY2xlYXIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgaW5pdChfIHRpdGxlOiBTdHJpbmcsIGljb246IFN0cmluZz8gPSBuaWwsIHN0eWxlOiBCdXR0b25TdHlsZSA9IC5wcmltYXJ5LCBhY3Rpb246IEBlc2NhcGluZyAoKSAtPiBWb2lkKSB7CiAgICAgICAgc2VsZi50aXRsZSA9IHRpdGxlCiAgICAgICAgc2VsZi5pY29uID0gaWNvbgogICAgICAgIHNlbGYuc3R5bGUgPSBzdHlsZQogICAgICAgIHNlbGYuYWN0aW9uID0gYWN0aW9uCiAgICB9CiAgICAKICAgIHZhciBib2R5OiBzb21lIFZpZXcgewogICAgICAgIEJ1dHRvbihhY3Rpb246IGFjdGlvbikgewogICAgICAgICAgICBIU3RhY2soc3BhY2luZzogOCkgewogICAgICAgICAgICAgICAgaWYgbGV0IGljb24gPSBpY29uIHsKICAgICAgICAgICAgICAgICAgICBJbWFnZShzeXN0ZW1OYW1lOiBpY29uKQogICAgICAgICAgICAgICAgICAgICAgICAuZm9udCguc3lzdGVtKHNpemU6IDE2LCB3ZWlnaHQ6IC5tZWRpdW0pKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgVGV4dCh0aXRsZSkKICAgICAgICAgICAgICAgICAgICAuZm9udCguc3lzdGVtKHNpemU6IDE2LCB3ZWlnaHQ6IC5zZW1pYm9sZCkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmZyYW1lKG1heFdpZHRoOiAuaW5maW5pdHkpCiAgICAgICAgICAgIC5wYWRkaW5nKC52ZXJ0aWNhbCwgMTIpCiAgICAgICAgICAgIC5wYWRkaW5nKC5ob3Jpem9udGFsLCAxNikKICAgICAgICAgICAgLmJhY2tncm91bmQoc3R5bGUuYmFja2dyb3VuZENvbG9yKQogICAgICAgICAgICAuZm9yZWdyb3VuZENvbG9yKHN0eWxlLmZvcmVncm91bmRDb2xvcikKICAgICAgICAgICAgLmNvcm5lclJhZGl1cygxMikKICAgICAgICAgICAgLm92ZXJsYXkoCiAgICAgICAgICAgICAgICBSb3VuZGVkUmVjdGFuZ2xlKGNvcm5lclJhZGl1czogMTIpCiAgICAgICAgICAgICAgICAgICAgLnN0cm9rZShzdHlsZS5ib3JkZXJDb2xvciwgbGluZVdpZHRoOiAxKQogICAgICAgICAgICApCiAgICAgICAgfQogICAgfQp9Cg==",
  "encoding": "base64"
}